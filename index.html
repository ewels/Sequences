<!--==================================================
     __   ___  __        ___       __   ___  __
    /__` |__  /  \ |  | |__  |\ | /  ` |__  /__`
    .__/ |___ \__X \__/ |___ | \| \__, |___ .__/

======================================================

A lightweight and quick sequence manipulation tool.
Please feel free to use and share the code: released
with an MIT licence.

Written by Phil Ewels, November 2011 (revamped 2016)
http://phil.ewels.co.uk

Hosted on github:
https://github.com/ewels/sequences

====================================================-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
	<title>Sequences</title>
	<meta name="keywords" content="Phil Ewels, Sequences, Bioinformatics" />
	<meta name="copyright" content="copyright 2016 Phil Ewels" />
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<style type="text/css">
		body {
			margin:0;
			padding:0;
			border-top:4px solid #00FBFF;
			color: #2d2d2d;
			font-family: sans-serif;
			font-size:12pt;
		}
		#content { padding:20px 40px; }

		#input {
			font-family:monospace;
			padding:3px 5px;
			width:300px;
			line-height: 18px;
		}
		#rna_label { margin-left:20px; }
		#results p { margin: 25px auto 5px; }
		#results pre {
			vertical-align: middle;
			background-color:#dedede;
			padding: 5px 8px;
			margin: 0;
			line-height: 17px;
			height: 17px;
			display:inline-block;
		}
		.hl {
			background-color: #DEAFB2;
		}
		.button {
			vertical-align: middle;
			background-color: #ffffff;
			border: 1px solid #cccccc;
			padding: 5px 8px;
			cursor: pointer;
			border-top-left-radius: 5px;
			border-bottom-left-radius: 5px;
			-webkit-transition: background-color 0.1s, border-color 0.1s;
    	transition: background-color 0.1s, border-color 0.1s;
			outline:none;
		}
		.button:hover {
			background-color: #ddd;
			border-color: #999;
		}
		.top-button {
			border-bottom: 1px solid transparent;
			border-bottom-left-radius: 0;
		}
		.bottom-button {
			border-top-left-radius: 0;
		}

		#credits {
			font-size:8pt;
			color:#999;
			background-color:#ededed;
			border-top:1px solid #ccc;
			padding:10px 20px;
		}
		#credits a { color:#999; }
	</style>
</head>
<body>
	<div id="content">
		<h1>Sequences</h1>

		<form>
			<p><label for="input">Your Sequence:</label> <input type="text" id="input" /></p>
			<p>
				<label id="dna_label"><input type="radio" name="seq_type" value="DNA" checked="checked" /> DNA</label>
			  <label id="rna_label"><input type="radio" name="seq_type" value="RNA" /> RNA</label>
			</p>
		</form>

		<div id="results">
			<p id="dsDNA_label">dsDNA:</p>
			<div>
				<button class="button button-copy top-button" title="Copy to clipboard">
					<svg width="13" height="14.84" viewBox="0 0 1024 896" xmlns="http://www.w3.org/2000/svg">
  					<path d="M128 768h256v64H128v-64z m320-384H128v64h320v-64z m128 192V448L384 640l192 192V704h320V576H576z m-288-64H128v64h160v-64zM128 704h160v-64H128v64z m576 64h64v128c-1 18-7 33-19 45s-27 18-45 19H64c-35 0-64-29-64-64V192c0-35 29-64 64-64h192C256 57 313 0 384 0s128 57 128 128h192c35 0 64 29 64 64v320h-64V320H64v576h640V768zM128 256h512c0-35-29-64-64-64h-64c-35 0-64-29-64-64s-29-64-64-64-64 29-64 64-29 64-64 64h-64c-35 0-64 29-64 64z" />
					</svg>
				</button><pre class="as_input"></pre>
			</div>
			<div>
				<button class="button button-copy bottom-button" title="Copy to clipboard">
					<svg width="13" height="14.84" viewBox="0 0 1024 896" xmlns="http://www.w3.org/2000/svg">
  					<path d="M128 768h256v64H128v-64z m320-384H128v64h320v-64z m128 192V448L384 640l192 192V704h320V576H576z m-288-64H128v64h160v-64zM128 704h160v-64H128v64z m576 64h64v128c-1 18-7 33-19 45s-27 18-45 19H64c-35 0-64-29-64-64V192c0-35 29-64 64-64h192C256 57 313 0 384 0s128 57 128 128h192c35 0 64 29 64 64v320h-64V320H64v576h640V768zM128 256h512c0-35-29-64-64-64h-64c-35 0-64-29-64-64s-29-64-64-64-64 29-64 64-29 64-64 64h-64c-35 0-64 29-64 64z" />
					</svg>
				</button><pre class="complement"></pre>
			</div>

			<p>Reverse Complement:</p>
			<div>
				<button class="button button-copy" title="Copy to clipboard">
					<svg width="13" height="14.84" viewBox="0 0 1024 896" xmlns="http://www.w3.org/2000/svg">
  					<path d="M128 768h256v64H128v-64z m320-384H128v64h320v-64z m128 192V448L384 640l192 192V704h320V576H576z m-288-64H128v64h160v-64zM128 704h160v-64H128v64z m576 64h64v128c-1 18-7 33-19 45s-27 18-45 19H64c-35 0-64-29-64-64V192c0-35 29-64 64-64h192C256 57 313 0 384 0s128 57 128 128h192c35 0 64 29 64 64v320h-64V320H64v576h640V768zM128 256h512c0-35-29-64-64-64h-64c-35 0-64-29-64-64s-29-64-64-64-64 29-64 64-29 64-64 64h-64c-35 0-64 29-64 64z" />
					</svg>
				</button><pre class="rev_complement"></pre>
			</div>
		
			<p>Complement:</p>
			<div >
				<button class="button button-copy" title="Copy to clipboard">
					<svg width="13" height="14.84" viewBox="0 0 1024 896" xmlns="http://www.w3.org/2000/svg">
  					<path d="M128 768h256v64H128v-64z m320-384H128v64h320v-64z m128 192V448L384 640l192 192V704h320V576H576z m-288-64H128v64h160v-64zM128 704h160v-64H128v64z m576 64h64v128c-1 18-7 33-19 45s-27 18-45 19H64c-35 0-64-29-64-64V192c0-35 29-64 64-64h192C256 57 313 0 384 0s128 57 128 128h192c35 0 64 29 64 64v320h-64V320H64v576h640V768zM128 256h512c0-35-29-64-64-64h-64c-35 0-64-29-64-64s-29-64-64-64-64 29-64 64-29 64-64 64h-64c-35 0-64 29-64 64z" />
					</svg>
				</button><pre class="complement"></pre>
			</div>

			<p>Reverse:</p>
			<div>
				<button class="button button-copy" title="Copy to clipboard">
					<svg width="13" height="14.84" viewBox="0 0 1024 896" xmlns="http://www.w3.org/2000/svg">
  					<path d="M128 768h256v64H128v-64z m320-384H128v64h320v-64z m128 192V448L384 640l192 192V704h320V576H576z m-288-64H128v64h160v-64zM128 704h160v-64H128v64z m576 64h64v128c-1 18-7 33-19 45s-27 18-45 19H64c-35 0-64-29-64-64V192c0-35 29-64 64-64h192C256 57 313 0 384 0s128 57 128 128h192c35 0 64 29 64 64v320h-64V320H64v576h640V768zM128 256h512c0-35-29-64-64-64h-64c-35 0-64-29-64-64s-29-64-64-64-64 29-64 64-29 64-64 64h-64c-35 0-64 29-64 64z" />
					</svg>
				</button><pre class="rev"></pre>
			</div>
		</div>
	</div>

	<div id="credits">
		<p>Made by <a href="http://phil.ewels.co.uk" target="_blank">Phil Ewels</a>. Source code available on <a href="https://github.com/ewels/sequences" target="_blank">GitHub</a> with a <a href="LICENCE">MIT licence</a>.</p>
	</div>

	<a href="https://github.com/ewels/sequences" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

	<!-- Load external JS libraries from Google -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.10/clipboard.min.js"></script>

	<!-- Our manipulation scripts -->
	<script type="text/javascript">
		$(document).ready(function() {
			
			// Initialise copy buttons
			var clipboard = new Clipboard('.button-copy', {
				target: function(trigger) { return trigger.nextElementSibling; }
			});
			clipboard.on('success', function(e) {
		    e.clearSelection();
			});
			
			// Run function when a new character is typed
			$('#input').keyup(function(){
				sequences();
			});
			// Switch between DNA and RNA
			$('input[name=seq_type]').click(function(){
				$('#dsDNA_label').text('ds'+$(this).val());
				sequences();
			});
			
			// The sequences function - the meat of the page
			//   takes two inputs - the sequence to be analysed, and the sequence type (DNA/RNA)
			function sequences(input, seq_type){
				var seq_type = $('input[name=seq_type]:checked', 'form').val();
				var input = $('#input').val().toUpperCase().split('');
				var tr = {
					'DNA': { 'A':'T', 'T': 'A', 'U': 'A', 'G': 'C', 'C': 'G' },
				  'RNA': { 'A':'U', 'T': 'A', 'U': 'A', 'G': 'C', 'C': 'G' }
				}
				var c = [];
				for (var x = 0; x < input.length; x++) {
					// Complement translation
					if(['A','C','T','G','U'].indexOf(input[x]) > -1 ){
						c.push(tr[seq_type][input[x]]);
					} else {
						input[x] = '<span class="hl">'+input[x]+'</span>';
						c.push('<span class="hl">'+input[x]+'</span>');
					}
					if(seq_type == 'RNA' && input[x] == 'T'){
						input[x] = 'U';
					}
					if(seq_type == 'DNA' && input[x] == 'U'){
						input[x] = 'T';
					}
				}
				// Put the results into the page
				$('.as_input').html( input.join('')  );
				$('.complement').html( c.join('') );
				$('.rev_complement').html( input.reverse().join('') );
				$('.rev').html( c.reverse().join('') );
			}

		});
	</script>

</body>
</html>